 function [exectime, data] = ctrlcodetestt(seg, data)

switch seg
 case 1
  y=ttGetMsg;       % Obtain sensor value
  x1=y(1);%%ez
  x2=y(2);%%dez
  x3=y(3);%%z1
  x4=y(4);%%ex
  x5=y(5);%%ey
  x6=y(6);%%dex
  x7=y(7);%%dey
  x8=y(8);%%iex
  x9=y(9);%%iey
  x10=y(10);%%z2
  x11=y(11);%%ephi
  x12=y(12);%%eth
  x13=y(13);%%epsi
  x14=y(14);%%dephi
  x15=y(15);%%deth
  x16=y(16);%%depsi
  x17=y(17);%%z3
  x18=y(18);%%z4
  x19=y(19);%%z5
  
  m=0.4;
  n=0.6;
  FOU1=0.05;
  FOU2=0.6;
  FOU3=5;
  FOU4=5;
  FOU5=5;
  
  
  %%%NT1
    %% altitude
  %前鑑部
%   z1=x3;
% 
%   
%   %第一前鑑部計算
%   if z1 <= 0
%       z11 = 0;
%       z12 = 1;
%   elseif z1 >= 0 && z1<= 0.5
%       z11 = 2*z1;
%       z12 = 1-z111;
%   else
%       z11 = 1;
%       z12 = 0;
%   end
%             
%   h11 = z11;
%   h12 = z12;
%    
% AL11 = [27.4765   10.3761];     
% AL21 = [14.2443    6.6404];
% AL12 = [26.9972   10.8332];
% AL22 = [16.6729    5.8892];
% 
% fh1=(h11*AL11(1,1)+h12*AL21(1,1))/(h11+h12);
% fh2=(h11*AL11(1,2)+h12*AL21(1,2))/(h11+h12);
%   
% data.u1=-(fh1*x1+fh2*x2);
% %% position
% %前鑑部
% z2=x10;
% 
% %第二前鑑部計算  
%   if z2 <= 4.8
%       z21 = 0;
%       z22 = 1;
%   elseif z2 >= 4.8 && z2<= 14.8
%       z21=(z2-4.8)/10;
%       z22=1-z211;
%   else
%       z212 = 1;
%       z222 = 0;
%   end
%   
%   h21 = z211;
%   h22 = z221;
%   
% P11 = [18.4897,   -0.0000,   22.8174,   -0.0000,    9.8584,   -0.0000;         
%        -0.0000,  120.3772,   -0.0000,   62.8833,   -0.0000,   61.5600];
%    
% P21 = [31.2343,   -0.0000,   36.9949,   -0.0000,   16.5533,   -0.0000;
%        -0.0000,  223.1132,   -0.0000,  118.6924,   -0.0000,  114.5750];
%    
% P12 = [20.0048,   -0.0000,   24.4548,   -0.0000,   10.7235,   -0.0000;
%        -0.0000,  139.6930,   -0.0000,   72.8235,   -0.0000,   71.4431];
%    
% P22 = [34.2458,   -0.0000,   40.4887,   -0.0000,   18.1469,   -0.0000;
%        -0.0000,  253.0117,   -0.0000,  134.3686,   -0.0000,  130.0275];
% 
%   fh3=(h21*P11(1,1)+h22*P21(1,1))/(h21+h22);
%   fh4=(h21*P11(1,2)+h22*P21(1,2))/(h21+h22);     
%   fh5=(h21*P11(1,3)+h22*P21(1,3))/(h21+h22);     
%   fh6=(h21*P11(1,4)+h22*P21(1,4))/(h21+h22);
%   fh7=(h21*P11(1,5)+h22*P21(1,5))/(h21+h22);
%   fh8=(h21*P11(1,6)+h22*P21(1,6))/(h21+h22);
%   fh9=(h21*P12(2,1)+h22*P22(2,1))/(h21+h22);
%   fh10=(h21*P12(2,2)+h22*P22(2,2))/(h21+h22);
%   fh11=(h21*P12(2,3)+h22*P22(2,3))/(h21+h22);
%   fh12=(h21*P12(2,4)+h22*P22(2,4))/(h21+h22);
%   fh13=(h21*P12(2,5)+h22*P22(2,5))/(h21+h22);
%   fh14=(h21*P12(2,6)+h22*P22(2,6))/(h21+h22);
%   
%   data.u2=-(fh3*x4+fh4*x5+fh5*x6+fh6*x7+fh7*x8+fh8*x9);
%   data.u3=-(fh9*x4+fh10*x5+fh11*x6+fh12*x7+fh13*x8+fh14*x9);
%   
%   %% attitude
%   z3=x17;
%   z4=x18;
%   z5=x19;
%   
%   
%   if z3 <= -45
%       z311 = 0;
%       z321 = 1;
%   elseif z3 >= -45 && z3 <= 0
%       z311=(z3+45)/90;
%       z321 = 1-z311;
%   else
%       z311 = 0.5;
%       z321 = 0.5;
%   end
% 
%   if z3 <=0
%       z312 = 0.5;
%       z322 = 0.5;
%   elseif z3 >= 0 && z3 <= 45
%       z312=(z3+45)/90;
%       z322 = 1-z312;
%   else
%       z312= 1;
%       z322 = 0;
%   end
%   
%   
%   
% 
%   
%   if z4 >= 45
%       z41 = 1;
%       z42 = 0;
%   elseif z4 >= -45 && z4 <= 45
%       z41=(z4+45)/90;
%       z42 = 1-z41;
%   else
%       z41 = 0;
%       z42 = 1;
%   end
% 
%   
%   
%   
%    if z5 >= 45
%       z51 = 1;
%       z52 = 0;
%   elseif z5 >= -45 && z5 <= 45
%       z51=(z5+45)/90;
%       z52 = 1-z51;
%   else
%       z51 = 0;
%       z52 = 1;
%   end
% 
%   
% 
%   
%   h311=(z311*z41*z51+3)/6;
%   h321=(z321*z42*z52+3)/6;
%   h312=(z312*z42*z52+3)/6;
%   h322=(z322*z42*z52+3)/6;
%   
%  
% AT11 = [37.9534,   33.1214,   -0.9044,    7.4335,    1.5349,   -0.9428;         
%         33.1771,   37.8852,    2.6487,    1.7917,    7.2343,    3.0139;
%     	 2.7078,    4.2070,    5.9924,   -0.4514,    1.4957,    5.4362];
% 
% AT21 = [41.1269,   36.7804,   -0.5852,    7.5897,    2.2121,   -0.7270;
%     	33.4920,   37.9437,    2.5519,    2.0533,    7.0815,    2.9079;
%          3.1228,    4.6281,    6.0082,   -0.4194,    1.5533,    5.4519];
% 
% AT12 = [53.4257,   46.6238,   -1.2731,   10.4639,    2.1607,   -1.3271;
%      	46.7023,   53.3298,    3.7284,    2.5221,   10.1834,    4.2425;
%          3.8117,    5.9220,    8.4353,   -0.6355,    2.1055,    7.6523];
% 
% AT22 = [57.8929,   51.7746,   -0.8237,   10.6839,    3.1139,   -1.0234;
%      	47.1455,   53.4121,    3.5923,    2.8904,    9.9684,    4.0932;
%          4.3959,    6.5148,    8.4575,   -0.5904,    2.1864,    7.6743];
%     
%   fh15=(h311*AT11(1,1)+h321*AT21(1,1))/(h311+h321);
%   fh16=(h311*AT11(1,2)+h321*AT21(1,2))/(h311+h321);
%   fh17=(h311*AT11(1,3)+h321*AT21(1,3))/(h311+h321);
%   fh18=(h311*AT11(1,4)+h321*AT21(1,4))/(h311+h321);
%   fh19=(h311*AT11(1,5)+h321*AT21(1,5))/(h311+h321);
%   fh20=(h311*AT11(1,6)+h321*AT21(1,6))/(h311+h321);
%   fh21=(h312*AT12(2,1)+h322*AT22(2,1))/(h312+h322);
%   fh22=(h312*AT12(2,2)+h322*AT22(2,2))/(h312+h322);
%   fh23=(h312*AT12(2,3)+h322*AT22(2,3))/(h312+h322);
%   fh24=(h312*AT12(2,4)+h322*AT22(2,4))/(h312+h322);
%   fh25=(h312*AT12(2,5)+h322*AT22(2,5))/(h312+h322);
%   fh26=(h312*AT12(2,6)+h322*AT22(2,6))/(h312+h322);
%   fh27=(h312*AT12(3,1)+h322*AT22(3,1))/(h312+h322);
%   fh28=(h312*AT12(3,2)+h322*AT22(3,2))/(h312+h322);
%   fh29=(h312*AT12(3,3)+h322*AT22(3,3))/(h312+h322);
%   fh30=(h312*AT12(3,4)+h322*AT22(3,4))/(h312+h322);
%   fh31=(h312*AT12(3,5)+h322*AT22(3,5))/(h312+h322);
%   fh32=(h312*AT12(3,6)+h322*AT22(3,6))/(h312+h322);
%   
%   data.u4=-(fh15*x11+fh16*x12+fh17*x13+fh18*x14+fh19*x15+fh20*x16);
%   data.u5=-(fh21*x11+fh22*x12+fh23*x13+fh24*x14+fh25*x15+fh26*x16);
%   data.u6=-(fh27*x11+fh28*x12+fh29*x13+fh30*x14+fh31*x15+fh32*x16);
%   
%   data.u= [data.u1;data.u2;data.u3;data.u4;data.u5;data.u6];
  
  
  %%%NIT2
  %% altitude
  %前鑑部
  z1=x3;
  
  %第一前鑑部歸屬度計算
  if z1 <= 0
      z11_up = 0;
      z12_up = 1;
  elseif z1 >= 0 && z1<= 0.5
      z11_up = 2*z1;
      z12_up = 1-z11_up;
  else
      z11_up = 1;
      z12_up = 0;
  end
  

 %第一前鑑部，第二歸屬度計算
 
   if z1 <= 0
      z11_low = 0;
      z12_low = 1;
   elseif z1 <= (0+FOU1)
      z11_low = 0;
      z12_low = (1/(FOU1-0.5))*z1+1;
   elseif z1 >= (0+FOU1) && z1<= (0.5-FOU1)
      z11_low = (1/(0.5-FOU1))*z1+((FOU1+0.5)/(FOU1-0.5));
      z12_low = (1/(FOU1-0.5))*z1+1;
   elseif z1 >= (0.5-FOU1) && z1 <= 1
      z11_low = (1/(0.5-FOU1))*z1+((FOU1+0.5)/(FOU1-0.5));
      z12_low = 0.5;
   else
      z11_low = 1;
      z12_low = 0;
   end

      
     h11_up = z11_up;
     h12_up = z12_up;
     h11_low = z11_low;
     h12_low = z12_low;
  
AL11 = [13.9765   4.976];     
AL21 = [7.006    2.6137];
AL12 = [30.3719   11.4705];
AL22 = [14.8204    5.5428];

fh1=m*(h11_low*AL11(1,1))+n*(h11_up*AL11(1,1));
fh2=m*(h12_low*AL21(1,1))+n*(h12_up*AL21(1,1));
  
data.u1=-(fh1*x1+fh2*x2);
%% position
%前鑑部
z2=x10;
  
    %第二前鑑部歸屬度計算
  if z2 <= 4.8
      z21_up = 0;
      z22_up = 1;
  elseif z1 >= 4.8 && z1<= 14.8
      z21_up=(z2-4.8)/10;
      z22_up=1-z21_up;
  else
      z212_up = 1;
      z222_up = 0;
  end

 %第二前鑑部，第二歸屬度計算
 
     if z2 <= 4.8
         z21_low = 0;
         z22_low = 1;
     elseif z2 <= (4.8+FOU2)
         z21_low = 0;
         z22_low = (1/(FOU2-10))*z2+((FOU2-14.8)/(FOU2-10));
     elseif z2 <= (4.8+FOU2) && z2 <= (14.8-FOU2)
      z211_low = (1/(10-FOU2))*z2+((FOU2+4.8)/(FOU2-10));
      z221_low = (1/(FOU2-10))*z2+((FOU2-14.8)/(FOU2-10));
     elseif z2 >= (14.8-FOU2) && z2 <= 14.8
         z21_low = (1/(10-FOU2))*z2+((FOU2+4.8)/(FOU2-10));
         z22_low = 0;
     else
         z21_low = 1;
         z22_low = 0;
     end
  h21_up = z21_up;
  h22_up = z22_up;
  h21_low = z21_low;
  h22_low = z22_low;
  
  P11 = [   16.6407         0   20.5357         0    8.8726         0;
      0  108.3395         0   56.5950         0   55.4040];
  
  P21 = [   24.9874         0   29.5959         0   13.2426         0;
      0  178.4906         0   94.9539         0   91.6600];
  
  P12 = [   18.0043         0   22.0093         0    9.6511         0;
      0  125.7237         0   65.5412         0   64.2988];
  
  P22 = [   27.3966         0   32.3910         0   14.5175         0;
      0  202.4094         0  107.4949         0  104.0220];

  fh3=m*((h21_low*P11(1,1)+h22_low*P21(1,1))/(h21_low+h22_low))+n*((h21_up*P11(1,1)+h22_up*P21(1,1))/(h21_up+h22_up));
  fh4=m*((h21_low*P11(1,2)+h22_low*P21(1,2))/(h21_low+h22_low))+n*((h21_up*P11(1,2)+h22_up*P21(1,2))/(h21_up+h22_up));     
  fh5=m*((h21_low*P11(1,3)+h22_low*P21(1,3))/(h21_low+h22_low))+n*((h21_up*P11(1,3)+h22_up*P21(1,3))/(h21_up+h22_up));     
  fh6=m*((h21_low*P11(1,4)+h22_low*P21(1,4))/(h21_low+h22_low))+n*((h21_up*P11(1,4)+h22_up*P21(1,4))/(h21_up+h22_up));
  fh7=m*((h21_low*P11(1,5)+h22_low*P21(1,5))/(h21_low+h22_low))+n*((h21_up*P11(1,5)+h22_up*P21(1,5))/(h21_up+h22_up));
  fh8=m*((h21_low*P11(1,6)+h22_low*P21(1,6))/(h21_low+h22_low))+n*((h21_up*P11(1,6)+h22_up*P21(1,6))/(h21_up+h22_up));
  fh9=m*((h21_low*P12(2,1)+h22_low*P22(2,1))/(h21_low+h22_low))+n*((h21_up*P12(2,1)+h22_up*P22(2,1))/(h21_up+h22_up));
  fh10=m*((h21_low*P12(2,2)+h22_low*P22(2,2))/(h21_low+h22_low))+n*((h21_up*P12(2,2)+h22_up*P22(2,2))/(h21_up+h22_up));
  fh11=m*((h21_low*P12(2,3)+h22_low*P22(2,3))/(h21_low+h22_low))+n*((h21_up*P12(2,3)+h22_up*P22(2,3))/(h21_up+h22_up));
  fh12=m*((h21_low*P12(2,4)+h22_low*P22(2,4))/(h21_low+h22_low))+n*((h21_up*P12(2,4)+h22_up*P22(2,4))/(h21_up+h22_up));
  fh13=m*((h21_low*P12(2,5)+h22_low*P22(2,5))/(h21_low+h22_low))+n*((h21_up*P12(2,5)+h22_up*P22(2,5))/(h21_up+h22_up));
  fh14=m*((h21_low*P12(2,6)+h22_low*P22(2,6))/(h21_low+h22_low))+n*((h21_up*P12(2,6)+h22_up*P22(2,6))/(h21_up+h22_up));
  
  data.u2=-(fh3*x4+fh4*x5+fh5*x6+fh6*x7+fh7*x8+fh8*x9);
  data.u3=-(fh9*x4+fh10*x5+fh11*x6+fh12*x7+fh13*x8+fh14*x9);
  
  %% attitude
  z3=x17;
  z4=x18;
  z5=x19;
  
 %第一歸屬，前鑑3
  if z3 <= -45
      z31_up = 0;
      z32_up = 1;
  elseif z3 >= -45 && z3 <= 45
      z31_up=(z3+45)/90;
      z32_up = 1-z31_up;
  else
      z31_up = 1;
      z32_up = 0;
  end
  
%第二歸屬，前鑑3
  
  if z3<-45
      z31_up = 0;
      z32_up = 1;
  elseif z3 <= (-45+FOU3)
      z31_low = 0;
      z32_low = (1/(FOU3-90))*z3+((FOU3-45)/(FOU3-90));
  elseif z3 >= (-45+FOU3) && z3 <= (45-FOU3)
      z31_low = (1/(90-FOU3))*z3+((FOU3-45)/(FOU3-90));
      z32_low = (1/(FOU3-90))*z3+((FOU3-45)/(FOU3-90));
  elseif z3 >= (45-FOU3) && z3 < 45
      z31_low = (1/(90-FOU3))*z3+((FOU3-45)/(FOU3-90));
      z32_low = 0;
  else z3 > 45
      z31_up = 1;
      z32_up = 0;
  end
  
  
  %第一歸屬，前鑑4
  if z4 <= -45
      z41_up = 0;
      z42_up = 1;
  elseif z4 >= -45 && z4 <= 45
      z41_up=(z4+45)/90;
      z42_up = 1-z41_up;
  else
      z41_up = 1;
      z42_up = 0;
  end
  
%第二歸屬，前鑑4
  
  if z4<-45
      z41_up = 0;
      z42_up = 1;
  elseif z4 <= (-45+FOU4)
      z41_low = 0;
      z42_low = (1/(FOU4-90))*z4+((FOU4-45)/(FOU4-90));
  elseif z4 >= (-45+FOU4) && z4 <= (45-FOU4)
      z41_low = (1/(90-FO43))*z4+((FOU4-45)/(FOU4-90));
      z42_low = (1/(FOU4-90))*z4+((FOU4-45)/(FOU4-90));
  elseif z4 >= (45-FOU4) && z4 < 45
      z41_low = (1/(90-FOU4))*z4+((FOU4-45)/(FOU4-90));
      z42_low = 0;
  end
  
  
  
   if z5 >= 45
      z51_up = 1;
      z52_up = 0;
  elseif z5 >= -45 && z5 <= 45
      z51_up=(z5+45)/90;
      z52_up = 1-z51_up;
  else
      z51_up = 0;
      z52_up = 1;
  end

  
  if z5 >= 45
      z51_low = 1;
      z52_low = 0;
  elseif z5 <= 45 && z5 >= (45-FOU5)
      z51_low = (1/(90-FOU5))*z5+((FOU5-45)/(FOU5-90));
      z52_low = 0;
  elseif z5 <= (45-FOU5) && z5 >= (-45+FOU5)
      z51_low = (1/(90-FOU5))*z5+((FOU5-45)/(FOU5-90));
      z52_low = (1/(FOU5-90))*z5+((FOU5-45)/(FOU5-90));
  elseif z5 <= (-45+FOU5) && z5 >= -45
      z51_low = 0;
      z52_low = (1/(FOU5-90))*z5+((FOU5-45)/(FOU5-90));
  else
      z51_low = 0;
      z52_low = 1;
  end
  
  h31_up=z31_up*z41_up*z51_up;
  h32_up=z32_up*z42_up*z52_up;
  
  h31_low=z31_low*z41_low*z51_low;
  h32_low=z32_low*z42_low*z52_low;
  
AT11 = [37.9534,   33.1214,   -0.9044,    7.4335,    1.5349,   -0.9428;         
        33.1771,   37.8852,    2.6487,    1.7917,    7.2343,    3.0139;
    	 2.7078,    4.2070,    5.9924,   -0.4514,    1.4957,    5.4362];
AT21 = [41.1269,   36.7804,   -0.5852,    7.5897,    2.2121,   -0.7270;
    	33.4920,   37.9437,    2.5519,    2.0533,    7.0815,    2.9079;
         3.1228,    4.6281,    6.0082,   -0.4194,    1.5533,    5.4519];
AT12 = [53.4257,   46.6238,   -1.2731,   10.4639,    2.1607,   -1.3271;
     	46.7023,   53.3298,    3.7284,    2.5221,   10.1834,    4.2425;
         3.8117,    5.9220,    8.4353,   -0.6355,    2.1055,    7.6523];
AT22 = [57.8929,   51.7746,   -0.8237,   10.6839,    3.1139,   -1.0234;
     	47.1455,   53.4121,    3.5923,    2.8904,    9.9684,    4.0932;
         4.3959,    6.5148,    8.4575,   -0.5904,    2.1864,    7.6743];
    
  fh15=m*((h31_low*AT11(1,1)+h32_low*AT21(1,1))/(h31_low+h32_low))+n*((h31_up*AT11(1,1)+h32_up*AT21(1,1))/(h31_up+h32_up));
  fh16=m*((h31_low*AT11(1,2)+h32_low*AT21(1,2))/(h31_low+h32_low))+n*((h31_up*AT11(1,2)+h32_up*AT21(1,2))/(h31_up+h32_up));
  fh17=m*((h31_low*AT11(1,3)+h32_low*AT21(1,3))/(h31_low+h32_low))+n*((h31_up*AT11(1,3)+h32_up*AT21(1,3))/(h31_up+h32_up));
  fh18=m*((h31_low*AT11(1,4)+h32_low*AT21(1,4))/(h31_low+h32_low))+n*((h31_up*AT11(1,4)+h32_up*AT21(1,4))/(h31_up+h32_up));
  fh19=m*((h31_low*AT11(1,5)+h32_low*AT21(1,5))/(h31_low+h32_low))+n*((h31_up*AT11(1,5)+h32_up*AT21(1,5))/(h31_up+h32_up));
  fh20=m*((h31_low*AT11(1,6)+h32_low*AT21(1,6))/(h31_low+h32_low))+n*((h31_up*AT11(1,6)+h32_up*AT21(1,6))/(h31_up+h32_up));
  fh21=m*((h31_low*AT12(2,1)+h32_low*AT22(2,1))/(h31_low+h32_low))+n*((h31_up*AT12(2,1)+h32_up*AT22(2,1))/(h31_up+h32_up));
  fh22=m*((h31_low*AT12(2,2)+h32_low*AT22(2,2))/(h31_low+h32_low))+n*((h31_up*AT12(2,2)+h32_up*AT22(2,2))/(h31_up+h32_up));
  fh23=m*((h31_low*AT12(2,3)+h32_low*AT22(2,3))/(h31_low+h32_low))+n*((h31_up*AT12(2,3)+h32_up*AT22(2,3))/(h31_up+h32_up));
  fh24=m*((h31_low*AT12(2,4)+h32_low*AT22(2,4))/(h31_low+h32_low))+n*((h31_up*AT12(2,4)+h32_up*AT22(2,4))/(h31_up+h32_up));
  fh25=m*((h31_low*AT12(2,5)+h32_low*AT22(2,5))/(h31_low+h32_low))+n*((h31_up*AT12(2,5)+h32_up*AT22(2,5))/(h31_up+h32_up));
  fh26=m*((h31_low*AT12(2,6)+h32_low*AT22(2,6))/(h31_low+h32_low))+n*((h31_up*AT12(2,6)+h32_up*AT22(2,6))/(h31_up+h32_up));
  fh27=m*((h31_low*AT12(3,1)+h32_low*AT22(3,1))/(h31_low+h32_low))+n*((h31_up*AT12(3,1)+h32_up*AT22(3,1))/(h31_up+h32_up));
  fh28=m*((h31_low*AT12(3,2)+h32_low*AT22(3,2))/(h31_low+h32_low))+n*((h31_up*AT12(3,2)+h32_up*AT22(3,2))/(h31_up+h32_up));
  fh29=m*((h31_low*AT12(3,3)+h32_low*AT22(3,3))/(h31_low+h32_low))+n*((h31_up*AT12(3,3)+h32_up*AT22(3,3))/(h31_up+h32_up));
  fh30=m*((h31_low*AT12(3,4)+h32_low*AT22(3,4))/(h31_low+h32_low))+n*((h31_up*AT12(3,4)+h32_up*AT22(3,4))/(h31_up+h32_up));
  fh31=m*((h31_low*AT12(3,5)+h32_low*AT22(3,5))/(h31_low+h32_low))+n*((h31_up*AT12(3,5)+h32_up*AT22(3,5))/(h31_up+h32_up));
  fh32=m*((h31_low*AT12(3,6)+h32_low*AT22(3,6))/(h31_low+h32_low))+n*((h31_up*AT12(3,6)+h32_up*AT22(3,6))/(h31_up+h32_up));
  
  data.u4=-(fh15*x11+fh16*x12+fh17*x13+fh18*x14+fh19*x15+fh20*x16);
  data.u5=-(fh21*x11+fh22*x12+fh23*x13+fh24*x14+fh25*x15+fh26*x16);
  data.u6=-(fh27*x11+fh28*x12+fh29*x13+fh30*x14+fh31*x15+fh32*x16);
  
  data.u= [data.u1;data.u2;data.u3;data.u4;data.u5;data.u6];
  ttAnalogOut(1,data.u(1));
  ttAnalogOut(2,data.u(2));
  ttAnalogOut(3,data.u(3));
  ttAnalogOut(4,data.u(4));
  ttAnalogOut(5,data.u(5));
  ttAnalogOut(6,data.u(6));
  exectime = 0.000001; %very important so remember add exectime
 case 2
  ttSendMsg(1, data.u, 80);    % Send 80 bits to node 1 (actuator)
  exectime = -1; % finished
end
